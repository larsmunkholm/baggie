{"version":3,"file":"keepOutsideRange-d5389f97.js","sources":["../../packages/core/src/math/range/keepOutsideRange/keepOutsideRange.ts","../../packages/core/src/math/range/keepOutsideRange/Example.tsx","../../packages/core/src/math/range/keepOutsideRange/keepOutsideRange.mdx"],"sourcesContent":["import { mergeIntervals } from \"../mergeIntervals/mergeIntervals\";\nimport { Range } from \"../_interfaces/range.interface\";\n\n/**\n * Make sure a number is outside the range of a minimum and maximum value.\n */\nexport const keepOutsideRange = (\n    number: number,\n    ranges: Range | Range[],\n    combineEquals = true,\n): number =>\n    mergeIntervals(ranges, combineEquals).reduce(\n        (returnNumber, { from, to }) =>\n            returnNumber > from && returnNumber < to\n                ? [from, to].reduce((previous: number, current: number) => {\n                      const a = Math.abs(current - returnNumber);\n                      const b = Math.abs(previous - returnNumber);\n                      return a <= b ? current : previous;\n                  })\n                : returnNumber,\n        number,\n    );\n","import React, { useMemo, useState } from \"react\";\nimport { Source } from \"@storybook/blocks\";\nimport { InputWrapper } from \"@baggie/react\";\nimport { keepOutsideRange } from \"./keepOutsideRange\";\n\ninterface Props {\n    number: number;\n    ranges: string;\n}\n\nexport const Example = (props: Props) => {\n    const [input, setInput] = useState(props.number);\n    const [ranges, setRanges] = useState(props.ranges);\n    const [combineEquals, setCombineEquals] = useState(true);\n\n    const { realRanges, result } = useMemo(() => {\n        const realRanges = ranges\n            .replace(/][^[{]+/g, \"]\\n\")\n            .replace(/}[^[{]+/g, \"}\\n\")\n            .split(\"\\n\")\n            .map((item) => {\n                try {\n                    return JSON.parse(item.replace(/[\"`']/g, \"\").replace(/([a-z]+)/g, `\"$1\"`));\n                } catch (err) {\n                    return undefined;\n                }\n            })\n            .filter(\n                (x) =>\n                    x &&\n                    ((Array.isArray(x) && x.length === 2) ||\n                        (typeof x === \"object\" &&\n                            typeof x.from === \"number\" &&\n                            typeof x.to === \"number\")),\n            );\n        const result = keepOutsideRange(input, realRanges, combineEquals);\n\n        return { realRanges, result };\n    }, [input, ranges, combineEquals]);\n\n    return (\n        <>\n            <div style={{ display: \"flex\", gap: \"10px\" }}>\n                <InputWrapper label=\"Number\" labelForId=\"number-input\">\n                    <input\n                        id=\"number-input\"\n                        type=\"number\"\n                        value={input}\n                        onChange={({ target }) => setInput(target.valueAsNumber || 0)}\n                        autoComplete=\"off\"\n                    />\n                </InputWrapper>\n\n                <InputWrapper label=\"Ranges\" labelForId=\"ranges-input\">\n                    <textarea\n                        id=\"ranges-input\"\n                        value={ranges}\n                        onChange={({ target }) => setRanges(target.value)}\n                        style={{ width: \"100%\", maxWidth: \"360px\" }}\n                        autoComplete=\"off\"\n                        rows={3}\n                    />\n                </InputWrapper>\n\n                <InputWrapper label=\"Result\" labelForId={undefined}>\n                    <div style={{ padding: \"5px 0\" }}>{result}</div>\n                </InputWrapper>\n            </div>\n\n            <label>\n                <input\n                    type=\"checkbox\"\n                    checked={combineEquals}\n                    onChange={() => setCombineEquals((current) => !current)}\n                />{\" \"}\n                Combine equals\n            </label>\n\n            <Source\n                dark\n                code={`\nimport { keepOutsideRange } from \"@baggie/core\";\n\nconst range${realRanges.length === 1 ? \"\" : \"s\"} = ${\n                    realRanges.length === 1\n                        ? JSON.stringify(realRanges[0], null, 4)\n                        : JSON.stringify(realRanges, null, 4)\n                };\n\nconst result = keepOutsideRange(${input}, range${realRanges.length === 1 ? \"\" : \"s\"});\n// result = ${result}\n`}\n            />\n        </>\n    );\n};\n","import { Example } from \"./Example\";\n\n# keepOutsideRange\n\nMake sure a number is outside the range of a minimum and maximum value.\n\nIf the number is inside the range, the nearest accepted value will be\nreturned.\n\n## Parameters\n\n| Parameter         | Type                                                                               | Required | Default value |\n| :---------------- | :--------------------------------------------------------------------------------- | :------: | :------------ |\n| **number**        | `number`                                                                           |    ✔     |               |\n| **ranges**        | An `Array` or single value of `{ from: number; to: number }` or `[number, number]` |    ✔     |               |\n| **combineEquals** | `boolean`                                                                          |          | `true`        |\n\n## Examples\n\nKeep number outside a single range\n\n<Example number={30} ranges={\"{ from: 25, to: 75 }\"} />\n\nKeep number outside multiple ranges\n\n<Example number={10} ranges={\"[0, 10]\\n[10, 20]\\n{ from: 25, to: 75 }\"} />\n"],"names":["keepOutsideRange","number","ranges","combineEquals","mergeIntervals","returnNumber","from","to","previous","current","a","b","Example","props","input","setInput","useState","setRanges","setCombineEquals","realRanges","result","useMemo","realRanges2","item","x","result2","jsxs","Fragment","jsx","InputWrapper","target","Source","MDXContent","MDXLayout","_provideComponents","_jsx","_createMdxContent","_components","_jsxs","_Fragment"],"mappings":"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"}