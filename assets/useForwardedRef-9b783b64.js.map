{"version":3,"file":"useForwardedRef-9b783b64.js","sources":["../../packages/react/src/hooks/useForwardedRef/useForwardedRef.mdx"],"sourcesContent":["import { Source } from \"@storybook/blocks\";\n\n# useForwardedRef\n\nA hook to sync a forwarded ref with an internal ref.\n\nThis allows you to **use forwarded refs internally** in a component.\n\n> The ESLint rule `react-hooks/exhaustive-deps` will tell you that\n> the ref returned by \"useForwardedRef\" is dynamic and necessary as a\n> dependency when used with `useEffect` and `useCallback`.\n>\n> **This is not true**, as the ref is stable, but adding it as a dependency\n> will not cause any issues.\n\n## Example\n\nUsing a forwarded ref inside a component\n\n<Source dark code={`\nimport React, { forwardRef, useEffect } from \"react\";\nimport { useForwardedRef } from \"@baggie/react\";\n\ninterface Props {\n    defaultValue: string;\n    onChange: (newValue: string) => void;\n}\n\nexport const CustomInput = forwardRef<HTMLInputElement, Props>((props, ref) => {\n    // This is where the magic happens\n    const inputRef = useForwardedRef(ref);\n\n    useEffect(() => {\n        if (inputRef.current) {\n            inputRef.current.focus();\n        }\n        // The ESLint rule react-hooks/exhaustive-deps will tell you that\n        // the ref returned by \"useForwardedRef\" is dynamic and necessary as a dependency.\n        // This is not true, as the ref is stable, but adding it as a dependency\n        // will not cause any issues.\n    }, [inputRef]);\n\n    return (\n        <input\n            ref={inputRef}\n            defaultValue={props.defaultValue}\n            onChange={({ target }) => props.onChange(target.value)}\n        />\n    );\n});\n\nCustomInput.displayName = \"CustomInput\";\n`} />\n\nUsing a ref on the component above\n\n<Source dark code={`\nimport React, { useRef, useState } from \"react\";\nimport { CustomInput } from \"./components/CustomInput\";\n\nexport const App = () => {\n    const [inputValue, setInputValue] = useState(\"Lorem ipsum\");\n    const componentRef = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        if (componentRef.current) {\n            console.log(componentRef.current.value());\n        }\n    }, []);\n\n    return (\n        <CustomInput\n            ref={inputRef}\n            defaultValue={inputValue}\n            onChange={setInputValue}\n        />\n    );\n});\n`} />\n"],"names":["_createMdxContent","props","_components","_provideComponents","_jsxs","_Fragment","_jsx","Source","MDXContent","MDXLayout"],"mappings":"mVAIA,SAASA,EAAkBC,EAAO,CAChC,MAAMC,EAAc,OAAO,OAAO,CAChC,GAAI,KACJ,EAAG,IACH,OAAQ,SACR,WAAY,aACZ,KAAM,OACN,GAAI,IACL,EAAEC,EAAoB,EAAEF,EAAM,UAAU,EACzC,OAAOG,EAAAA,KAAMC,EAAAA,SAAW,CACtB,SAAU,CAACC,EAAAA,IAAKJ,EAAY,GAAI,CAC9B,GAAI,kBACJ,SAAU,iBACX,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,EAAG,CAC5B,SAAU,sDACX,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAAC,sBAAuBI,MAAKJ,EAAY,OAAQ,CACzD,SAAU,+BACX,CAAA,EAAG,kBAAkB,CACvB,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,WAAY,CACtC,SAAU,CAAC;AAAA,EAAME,OAAMF,EAAY,EAAG,CACpC,SAAU,CAAC,mBAAoBI,MAAKJ,EAAY,KAAM,CACpD,SAAU,6BACX,CAAA,EAAG;AAAA;AAAA,4BAA0HI,MAAKJ,EAAY,KAAM,CACnJ,SAAU,WACX,CAAA,EAAG,QAASI,MAAKJ,EAAY,KAAM,CAClC,SAAU,aACX,CAAA,EAAG,GAAG,CACR,CAAA,EAAG;AAAA,EAAME,OAAMF,EAAY,EAAG,CAC7B,SAAU,CAACI,EAAAA,IAAKJ,EAAY,OAAQ,CAClC,SAAU,kBACX,CAAA,EAAG;AAAA,2BAAmF,CACxF,CAAA,EAAG;AAAA,CAAI,CACT,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,GAAI,CAC7B,GAAI,UACJ,SAAU,SACX,CAAA,EAAG;AAAA,EAAMI,MAAKJ,EAAY,EAAG,CAC5B,SAAU,0CAChB,CAAK,EAAG;AAAA,EAAMI,EAAI,IAACC,EAAQ,CACrB,KAAM,GACN,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAkCP,CAAA,EAAG;AAAA,EAAMD,MAAKJ,EAAY,EAAG,CAC5B,SAAU,oCAChB,CAAK,EAAG;AAAA,EAAMI,EAAI,IAACC,EAAQ,CACrB,KAAM,GACN,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAuBZ,CAAK,CAAC,CACN,CAAG,CACH,CACA,SAASC,EAAWP,EAAQ,GAAI,CAC9B,KAAM,CAAC,QAASQ,CAAS,EAAI,OAAO,OAAO,CAAE,EAAEN,EAAoB,EAAEF,EAAM,UAAU,EACrF,OAAOQ,EAAYH,EAAAA,IAAKG,EAAW,OAAO,OAAO,CAAE,EAAER,EAAO,CAC1D,SAAUK,EAAAA,IAAKN,EAAmBC,CAAK,CAC3C,CAAG,CAAC,EAAID,EAAkBC,CAAK,CAC/B"}