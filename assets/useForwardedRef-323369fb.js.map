{"version":3,"file":"useForwardedRef-323369fb.js","sources":["../../packages/react/src/hooks/useForwardedRef/useForwardedRef.mdx"],"sourcesContent":["import { Source } from \"@storybook/blocks\";\n\n# useForwardedRef\n\nA hook to sync a forwarded ref with an internal ref.\n\nThis allows you to **use forwarded refs internally** in a component.\n\n> The ESLint rule `react-hooks/exhaustive-deps` will tell you that\n> the ref returned by \"useForwardedRef\" is dynamic and necessary as a\n> dependency when used with `useEffect` and `useCallback`.\n>\n> **This is not true**, as the ref is stable, but adding it as a dependency\n> will not cause any issues.\n\n## Example\n\nUsing a forwarded ref inside a component\n\n<Source dark code={`\nimport React, { forwardRef, useEffect } from \"react\";\nimport { useForwardedRef } from \"@baggie/react\";\n\ninterface Props {\n    defaultValue: string;\n    onChange: (newValue: string) => void;\n}\n\nexport const CustomInput = forwardRef<HTMLInputElement, Props>((props, ref) => {\n    // This is where the magic happens\n    const inputRef = useForwardedRef(ref);\n\n    useEffect(() => {\n        if (inputRef.current) {\n            inputRef.current.focus();\n        }\n        // The ESLint rule react-hooks/exhaustive-deps will tell you that\n        // the ref returned by \"useForwardedRef\" is dynamic and necessary as a dependency.\n        // This is not true, as the ref is stable, but adding it as a dependency\n        // will not cause any issues.\n    }, [inputRef]);\n\n    return (\n        <input\n            ref={inputRef}\n            defaultValue={props.defaultValue}\n            onChange={({ target }) => props.onChange(target.value)}\n        />\n    );\n});\n\nCustomInput.displayName = \"CustomInput\";\n`} />\n\nUsing a ref on the component above\n\n<Source dark code={`\nimport React, { useRef, useState } from \"react\";\nimport { CustomInput } from \"./components/CustomInput\";\n\nexport const App = () => {\n    const [inputValue, setInputValue] = useState(\"Lorem ipsum\");\n    const componentRef = useRef<HTMLInputElement>(null);\n\n    useEffect(() => {\n        if (componentRef.current) {\n            console.log(componentRef.current.value());\n        }\n    }, []);\n\n    return (\n        <CustomInput\n            ref={inputRef}\n            defaultValue={inputValue}\n            onChange={setInputValue}\n        />\n    );\n});\n`} />\n"],"names":["MDXContent","props","MDXLayout","_provideComponents","_jsx","_createMdxContent","_components","_jsxs","_Fragment","Source"],"mappings":"mVAIA,SAASA,EAAWC,EAAQ,GAAI,CAC9B,KAAM,CAAC,QAASC,CAAS,EAAI,OAAO,OAAO,CAAE,EAAEC,EAAoB,EAAEF,EAAM,UAAU,EACrF,OAAOC,EAAYE,EAAAA,IAAKF,EAAW,OAAO,OAAO,CAAE,EAAED,EAAO,CAC1D,SAAUG,EAAAA,IAAKC,EAAmB,EAAE,CACxC,CAAG,CAAC,EAAIA,IACN,SAASA,GAAoB,CAC3B,MAAMC,EAAc,OAAO,OAAO,CAChC,GAAI,KACJ,EAAG,IACH,OAAQ,SACR,WAAY,aACZ,KAAM,OACN,GAAI,IACL,EAAEH,EAAoB,EAAEF,EAAM,UAAU,EACzC,OAAOM,EAAAA,KAAMC,EAAAA,SAAW,CACtB,SAAU,CAACJ,EAAAA,IAAKE,EAAY,GAAI,CAC9B,GAAI,kBACJ,SAAU,iBACX,CAAA,EAAG;AAAA,EAAMF,MAAKE,EAAY,EAAG,CAC5B,SAAU,sDACX,CAAA,EAAG;AAAA,EAAMC,OAAMD,EAAY,EAAG,CAC7B,SAAU,CAAC,sBAAuBF,MAAKE,EAAY,OAAQ,CACzD,SAAU,+BACX,CAAA,EAAG,kBAAkB,CACvB,CAAA,EAAG;AAAA,EAAMC,OAAMD,EAAY,WAAY,CACtC,SAAU,CAAC;AAAA,EAAMC,OAAMD,EAAY,EAAG,CACpC,SAAU,CAAC,mBAAoBF,MAAKE,EAAY,KAAM,CACpD,SAAU,6BACX,CAAA,EAAG;AAAA;AAAA,4BAA0HF,MAAKE,EAAY,KAAM,CACnJ,SAAU,WACX,CAAA,EAAG,QAASF,MAAKE,EAAY,KAAM,CAClC,SAAU,aACX,CAAA,EAAG,GAAG,CACR,CAAA,EAAG;AAAA,EAAMC,OAAMD,EAAY,EAAG,CAC7B,SAAU,CAACF,EAAAA,IAAKE,EAAY,OAAQ,CAClC,SAAU,kBACX,CAAA,EAAG;AAAA,2BAAmF,CACxF,CAAA,EAAG;AAAA,CAAI,CACT,CAAA,EAAG;AAAA,EAAMF,MAAKE,EAAY,GAAI,CAC7B,GAAI,UACJ,SAAU,SACX,CAAA,EAAG;AAAA,EAAMF,MAAKE,EAAY,EAAG,CAC5B,SAAU,0CAClB,CAAO,EAAG;AAAA,EAAMF,EAAI,IAACK,EAAQ,CACrB,KAAM,GACN,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAkCP,CAAA,EAAG;AAAA,EAAML,MAAKE,EAAY,EAAG,CAC5B,SAAU,oCAClB,CAAO,EAAG;AAAA,EAAMF,EAAI,IAACK,EAAQ,CACrB,KAAM,GACN,KAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAuBd,CAAO,CAAC,CACR,CAAK,CACF,CACH"}