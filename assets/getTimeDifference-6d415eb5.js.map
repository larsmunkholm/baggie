{"version":3,"file":"getTimeDifference-6d415eb5.js","sources":["../../packages/core/src/math/time/getTimeDifference/getTimeDifference.ts","../../packages/core/src/math/time/getTimeDifference/Example.tsx","../../packages/core/src/math/time/getTimeDifference/getTimeDifference.mdx"],"sourcesContent":["interface GetTimeDifferenceReturn {\n    days: number;\n    hours: number;\n    minutes: number;\n    seconds: number;\n    milliseconds: number;\n}\n\n/**\n * Calculate the difference between two timestamps.\n */\nexport const getTimeDifference = (\n    fromTimestampMs: number,\n    toTimestampMs: number,\n): GetTimeDifferenceReturn => {\n    let difference = Math.abs(fromTimestampMs - toTimestampMs);\n\n    const onlyMilliseconds = difference;\n\n    difference = Math.floor(difference / 1000);\n    const milliseconds = onlyMilliseconds - difference * 1000;\n    const seconds = difference % 60;\n    difference = Math.floor(difference / 60);\n    const minutes = difference % 60;\n    difference = Math.floor(difference / 60);\n    const hours = difference % 24;\n    difference = Math.floor(difference / 24);\n    const days = difference;\n\n    return {\n        days,\n        hours,\n        minutes,\n        seconds,\n        milliseconds,\n    };\n};\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Source } from \"@storybook/blocks\";\nimport { InputWrapper } from \"@baggie/react\";\nimport { getTimeDifference } from \"./getTimeDifference\";\n\ninterface Props {\n    from?: number;\n    to?: number;\n}\n\nexport const Example = (props: Props) => {\n    const [fromTime, setFromTime] = useState(props.from || Date.now());\n    const [toTime, setToTime] = useState(props.to || Date.now());\n    const intervalRef = useRef<ReturnType<typeof setInterval>>();\n    const fromString = new Date(fromTime).toISOString().replace(/\\.[0-9]+Z$/, \"\");\n    const toString = new Date(toTime).toISOString().replace(/\\.[0-9]+Z$/, \"\");\n\n    const difference = useMemo(() => getTimeDifference(fromTime, toTime), [fromTime, toTime]);\n\n    useEffect(() => {\n        if (!props.to) {\n            intervalRef.current = setInterval(() => setToTime(Date.now()), 1000);\n            return () => clearInterval(intervalRef.current);\n        }\n    }, [props.to]);\n\n    return (\n        <>\n            <div style={{ display: \"flex\", gap: \"10px\" }}>\n                <InputWrapper label=\"From time\" labelForId=\"from-input\">\n                    <input\n                        id=\"from-input\"\n                        type=\"datetime-local\"\n                        value={fromString}\n                        onChange={({ target }) => setFromTime(target.valueAsNumber)}\n                    />\n                </InputWrapper>\n\n                <InputWrapper label=\"To time\" labelForId=\"to-input\">\n                    <input\n                        id=\"to-input\"\n                        type=\"datetime-local\"\n                        value={toString}\n                        readOnly={!props.to}\n                        onChange={({ target }) => setToTime(target.valueAsNumber)}\n                    />\n                </InputWrapper>\n            </div>\n\n            <Source\n                dark\n                code={`\nimport { getTimeDifference } from \"@baggie/core\";\n\nconst fromTimestampMs = ${fromTime}; // ${fromString}\nconst toTimestampMs = ${toTime}; // ${toString}\n\nconst difference = getTimeDifference(fromTimestampMs, toTimestampMs);\n/*\ndifference = ${JSON.stringify(difference, null, 4)}\n*/\n`}\n            />\n        </>\n    );\n};\n","import { Example } from \"./Example\";\n\n# getTimeDifference\n\nCalculate the difference between two timestamps.\n\n## Parameters\n\n| Parameter    | Type     | Required | Description                  |\n| :----------- | :------- | :------: | :--------------------------- |\n| **fromTime** | `number` |    ✔     | A timestamp in milliseconds. |\n| **toTime**   | `number` |    ✔     | A timestamp in milliseconds. |\n\n## Examples\n\nFrom page load to now.\n\n<Example />\n\nFrom a defined time to another defined time.\n\n<Example from={1523607256543} to={1533906712955} />\n"],"names":["getTimeDifference","fromTimestampMs","toTimestampMs","difference","onlyMilliseconds","milliseconds","seconds","minutes","hours","Example","props","fromTime","setFromTime","useState","toTime","setToTime","intervalRef","useRef","fromString","toString","useMemo","useEffect","jsxs","Fragment","jsx","InputWrapper","target","Source","MDXContent","MDXLayout","_provideComponents","_jsx","_createMdxContent","_components","_jsxs","_Fragment"],"mappings":"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"}